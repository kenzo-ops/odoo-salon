<templates xml:space="preserve">
	<t t-name="owl.OwlServiceDashboard" owl="1">
		<div class="p-4 bg-body w-100 salon-dashboard-container" t-attf-class="salon-dashboard-container #{state.isLoading ? 'no-scroll' : ''}">
			<!-- Overlay loading fullscreen -->
			<t t-if="state.isLoading">
				<div class="dashboard-loading-overlay">
					<div class="spinner">
					</div>
				</div>
			</t>
			<!-- Header -->
			<div class="row align-items-center mb-4">
				<div class="col-12 col-lg-6">
					<h1 class="fw-bold m-0">
						Dashboard
					</h1>
				</div>
				<div class="col-12 col-lg-6 mt-3 mt-lg-0 d-flex flex-wrap align-items-center gap-2 justify-content-lg-end">
					<div class="bg-white border rounded p-1 d-flex align-items-center">
						<select class="form-select border-0 fw-bold bg-transparent text-dark w-auto" style="max-width: 150px;" t-on-change="onPeriodChange" t-model="state.period">
							<option value="today">
								Today
							</option>
							<option value="yesterday">
								Yesterday
							</option>
							<option value="this_week">
								This Week
							</option>
							<option value="last_week">
								Last Week
							</option>
							<option value="this_month">
								This Month
							</option>
							<option value="last_month">
								Last Month
							</option>
							<option value="this_year">
								This Year
							</option>
							<option value="last_year">
								Last Year
							</option>
						</select>
					</div>
					<div class="bg-white border rounded p-2 d-flex align-items-center justify-content-center" style="cursor: pointer; width: 40px; height: 40px;" t-on-click="toggleAutoRefresh">
						<t t-if="!state.autoRefresh">
							<img t-att-src="'/salon_services/static/src/img/wall-clock.png'" alt="Clock" style="width: 23px; height: 23px;" />
						</t>
						<t t-else="">
							<span class="fw-bold text-primary" t-esc="state.countdown">
							</span>
						</t>
					</div>
				</div>
			</div>
			<!-- KPI Cards -->
			<!-- KPI Cards -->
			<div class="row g-4" t-att-class="props.className">
				<div class="col-12 col-sm-6 col-lg-3">
					<ServiceKpiCard img="'/salon_services/static/src/img/services.png'" title="'Services'" model="'salon.services'" clickable="true" className="'bg-primary-kpi'" />
				</div>
				<div class="col-12 col-sm-6 col-lg-3">
					<ServiceKpiCard img="'/salon_services/static/src/img/booking.png'" title="'Bookings'" model="'salon.booking'" clickable="true" className="'bg-primary-kpi'" />
				</div>
				<div class="col-12 col-sm-6 col-lg-3">
					<ServiceKpiCard img="'/salon_services/static/src/img/package.png'" title="'Packages'" model="'salon.packages'" clickable="true" className="'bg-primary-kpi'" />
				</div>
				<div class="col-12 col-sm-6 col-lg-3">
					<ServiceKpiCard img="'/salon_services/static/src/img/doctor.png'" title="'Doctors'" model="'hr.employee'" domain="[['is_doctor', '=', true]]" clickable="true" className="'bg-primary-kpi'" />
				</div>
			</div>
			<!-- Charts Row 1 -->
			<div class="row g-4 mt-1" t-att-class="props.className">
				<div class="col-12 col-lg-6">
					<ServiceChart type="'bar'" width="w-100" isDarkMode="false" title="'Top Customers'" chartMode="'service_status'" className="bg-primary-chart" />
				</div>
				<div class="col-12 col-lg-6">
					<ServiceChart type="'line'" width="w-100" isDarkMode="false" title="'Booking Trends'" chartMode="'booking_trend'" className="bg-primary-chart" />
				</div>
			</div>
			<!-- Row 2 -->
			<div class="row g-4 mt-4">
				<div class="col-12 col-lg-4">
					<ServiceChart type="'pie'" width="w-25" isDarkMode="false" title="'Top Booking Status'" chartMode="'booking_status'" className="bg-primary-chart" />
				</div>
				<div class="col-12 col-lg-8 p-4 bg-white border border-3" style="border-radius: 10px;">
					<div class="d-flex justify-content-between align-items-center mb-3">
						<h2 class="fw-bold m-0 fs-3">
							Upcoming Appointment
						</h2>
						<button type="button" class="btn btn-primary btn-sm fs-" t-on-click="createBooking">
							New
						</button>
					</div>
					<div class="table-responsive">
						<ListBookingTable />
					</div>
				</div>
			</div>
		</div>
	</t>
</templates>
